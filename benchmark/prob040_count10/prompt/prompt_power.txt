count10: Implement a module named TopModule with the following interface:
- input  clk
- input  reset
- output reg [3:0] q

The module implements a decade counter that cycles from 0 to 9.
All state transitions occur on the positive edge of clk.
The reset signal is active-high and synchronous.

Optimize the design for minimum power consumption (dynamic and static):
- Use Gray code state encoding to minimize bit transitions per clock cycle,
  reducing switching activity on state registers and downstream logic.
- Minimize the number of nodes that toggle on each clock edge; avoid encoding
  choices that cause multiple bits to flip simultaneously during normal counting.
- Gate or suppress unnecessary combinational transitions (glitches) before
  flip-flop inputs by ensuring next-state logic is glitch-free.
- Avoid wide fan-out nets; localize signal usage to reduce capacitive loading.
- If a signal is only needed for one clock cycle, avoid holding it active longer
  than necessary.

Do not modify the module interface or functional behavior.