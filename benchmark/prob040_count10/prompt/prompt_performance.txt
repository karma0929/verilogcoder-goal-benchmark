count10: Implement a module named TopModule with the following interface:
- input  clk
- input  reset
- output reg [3:0] q

The module implements a decade counter that cycles from 0 to 9.
All state transitions occur on the positive edge of clk.
The reset signal is active-high and synchronous.

Optimize the design for maximum performance (highest achievable clock frequency):
- Minimize combinational logic depth in the critical path (clock-to-q and next-state logic).
- Use one-hot encoding or Gray code if it reduces logic depth compared to binary encoding.
- Precompute or pipeline next-state logic where possible to shorten the critical path.
- Avoid carry-chain arithmetic; prefer direct comparison or LUT-friendly expressions.
- The terminal count (q == 9) detection should be implemented with minimum gate delay.
- Favor registered outputs over combinational outputs to eliminate output glitches.

Do not modify the module interface or functional behavior.